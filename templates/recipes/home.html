{% extends 'recipes/base.html' %}
{% load staticfiles %}

{% block body_block %}
<h1>Food For Thought</h1>
<div>
   <h2><a href="{% url 'recipes:categories' %}">Categories</a></h2><br>
{% if categories %}
<div class="card-group">
   {% for category in categories %}
   <div class="card">
       <img class="card-img-top object-fit-cover" src="{{ category.image.url }}" alt="{{ category.name }} image">
       <div class="card-body">
           <h5 class="card-title"><a href="{% url 'recipes:show_category' category.slug %}">{{ category.name }}</a> - {{ category.number_of_recipes }} recipes</h5>
        </div>
    </div>
   {% endfor %}
</div> <br>
{% else %}
   <strong>There are no categories present.</strong>
{% endif %}
</div>


<div>
   <h2>Highest Rated Recipes</h2><br>
{% if recipes %}
<div class="card-group">
   {% for recipe in recipes %}
   <div class="card">
       <img class="card-img-top object-fit-cover" src="{{ recipe.image.url }}" alt="{{ recipe.title }} image">
       <div class="card-body">
           <h5 class="card-title"><a href="{% url 'recipes:show_recipe' recipe.author.id recipe.slug %}">{{ recipe.title }}</a></h5>
           <p class="card-text"><i class="bi bi-star-fill text-warning"></i> {{ recipe.average_rating|floatformat:"1" }}</p>
        </div>
        <div class="card-footer">
            <p class="card-text"><small class="text-muted">Written by <a href="{% url 'recipes:show_non_user_account' recipe.author.id %}">{{ recipe.author.username }}</a></small></p>
        </div>
    </div>
   {% endfor %}
</div><br>
{% else %}
   <strong>There are no recipes present.</strong>
{% endif %}
</div>


{% endblock %}
