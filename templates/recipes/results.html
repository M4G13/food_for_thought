{% extends 'recipes/base.html' %}
{% load staticfiles %}

{% block body_block %}
<!-- <div class="container"> -->
<form role="search" action="./" method="get">
    Search: <input type="search" name="q" value="{{ request }}" placeholder="Search" class="form-control me-2">
    <button class="btn btn-outline-success" type="submit">Search</button></br>
    {{ form }}
</form>
<!-- </div> -->

{% if results %}
    <h2>Results for "{{ request }}":</h2>

    {% for recipe in results %}
    <div class="card mb-3">
      <div class="row g-0">
        <div class="col-md-4">
            <img src="{{ recipe.image.url }}" class="img-fluid rounded-start" alt="{{ recipe.title }} image">
        </div>
        <div class="col-md-8">
          <div class="card-body">

            <a href="{% url 'recipes:show_recipe' recipe.author.id recipe.slug %}">
              <h5 class="card-title">{{ recipe.title }}</h5>
            </a>

            <p class="card-text"><small class="text-muted">
                Written by
                <a href="{% url 'recipes:show_non_user_account' recipe.author.id %}">
                    {{ recipe.author.username }}
                </a>
            </small></p>

          </div>
        </div>
      </div>
    </div>
    {% endfor %}
{% else %}
<h2>No results.</h2>
{% endif %}

{% endblock %}
