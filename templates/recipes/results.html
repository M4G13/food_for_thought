{% extends 'recipes/base.html' %}
{% load staticfiles %}

{% block body_block %}
<form action="./" method="get">
    Search: <input type="text" name="q" value={{ request }}></br>
    {{ form }}
    <input type="submit">
</form>

{% if results %}
    <h2>Results for "{{ request }}":</h2>

    {% for recipe in results %}
    <div class="card mb-3" style="max-width: 300px; margin-left: 10px">
      <div class="row g-0">
        <div class="col-md-4">
            <img src="{{ recipe.image.url }}" class="img-fluid rounded-start" alt="{{ recipe.title }} image">
        </div>
        <div class="col-md-8">
          <div class="card-body">

            <a href="{% url 'recipes:show_recipe' recipe.author.id recipe.slug %}">
              <h5 class="card-title">{{ recipe.title }}</h5>
            </a>

            <p class="card-text"><small class="text-muted">
                Written by
                <a href="{% url 'recipes:show_non_user_account' recipe.author.id %}">
                    {{ recipe.author.username }}
                </a>
            </small></p>

          </div>
        </div>
      </div>
    </div>
    {% endfor %}
{% else %}
<h2>No results.</h2>
{% endif %}

{% endblock %}
